<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Task</title>
</head>
<body>
    <div class="search-wrapper">
        <div id="search_form" class="search-wrapper __main">
            <div class="search-form">
                <input type="text" name="filter_name" value="" placeholder="Search..." class="form-control" />
                <div class="actions">
                    <div class="clear" style="display: none;">
                        <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4.06152 4.01477L12.5468 12.5001" stroke="#333333"/>
                            <path d="M4.06152 12.5L12.5468 4.01472" stroke="#333333"/>
                        </svg>
                    </div>
                    <div class="go">
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
                            <path d="M11.0615 19C15.4798 19 19.0615 15.4183 19.0615 11C19.0615 6.58172 15.4798 3 11.0615 3C6.64325 3 3.06152 6.58172 3.06152 11C3.06152 15.4183 6.64325 19 11.0615 19Z" stroke="#979797" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M21.0615 21L16.7615 16.7" stroke="#979797" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="results-wrapper"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
        // Очистка при клике вне области #search_form
        document.addEventListener('click', function(e) {
            var searchForm = document.getElementById('search_form');
            var isClickInsideSearchForm = searchForm.contains(e.target);

            if (!isClickInsideSearchForm) {
                clearSearch();
            }
        });

        // Функция для очистки полей и результатов
        function clearSearch() {
            var input = document.querySelector('#search_form input[name="filter_name"]');
            var clear = document.querySelector('#search_form .clear');
            var resultsWrapper = document.querySelector('#search_form .results-wrapper');

            input.value = ''; // Очистить поле ввода
            clear.style.display = 'none';  // Скрыть крестик
            resultsWrapper.innerHTML = ''; // Очистить результаты поиска
        }

        // Обработчик события keyup для поля ввода
        var filterNameInput = document.querySelector('#search_form input[name="filter_name"]');
        filterNameInput.addEventListener('keyup', function() {
            var input = this;
            var clear = document.querySelector('#search_form .clear');
            var resultsWrapper = document.querySelector('#search_form .results-wrapper');

            // Показываем или скрываем крестик очистки
            if (input.value.length > 0) {
                clear.style.display = 'block';
            } else {
                clear.style.display = 'none';
            }

            resultsWrapper.innerHTML = '<div>Результаты поиска для: ' + input.value + '</div>';
        });

        // Обработчик события click для крестика очистки
        var clearButton = document.querySelector('#search_form .clear');
        clearButton.addEventListener('click', function() {
            clearSearch();
        });
    });
    </script>
</body>
</html>